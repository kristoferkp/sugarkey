<!--
  ===================    !!READ THIS NOTICE!!   ====================
  DO NOT edit this file manually. Your changes WILL BE OVERWRITTEN!
  This journal is auto generated and updated by Hack Club Blueprint.
  To edit this file, please edit your journal entries on Blueprint.
  ==================================================================
-->

## 10/24/2025 - Research  

I will be mostly following the Blueprint dev board guide, but I will substitute out the RP2040 for the RP2350. 
I will make the board smaller as I do not need the headers, and I will make the USB-C connector one of the really long ones you can plug straight into a device.

USB-C needs to be implemented correctly, if I recall correctly, so I will try to search as much as possible about the USB-C standard and common mistakes to avoid. There is a [blog post by JLCPCB](https://jlcpcb.com/blog/pcb-layout-guidelines-for-usb-type-c) that has some tips on how to implement USB-C.

I want to make the board as small as the Waveshare RP2350-Zero Mini, and if possible, even smaller.
![RP2350-Zero-details-size](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTIwOCwicHVyIjoiYmxvYl9pZCJ9fQ==--ec6cfd82ea3c628c263e2f09148955368221d71f/RP2350-Zero-details-size.jpg)

How much storage should the key have? The official RPi Pico 2 has 4 MB, as does the Waveshare. But wouldn't it be advantageous to have more so I could store more passkeys?
After a bit of searching around, the QSPI doesn't matter that much, so I think I will add 4 MB to be inline with RPi Pico 2.

There is an already developed open source passkey solution for the RP2350 and the ESP32-S3 (and RP2040, but that is not recommended) called Pico Keys, so I will use that.

The Pico Keys uses an LED to display the status of the key, so I will need to add one to my board too. Secondly, the firmware is installed holding the BOOTSEL button down, I want to avoid adding a button, so maybe I can use a pair of tweezers in-place of the buttons BOOTSEL and RESET.

Also, sorry if this has been a bit of a ramble, I wanted to get the ideas off my mind for future reference.
  

## 10/25/2025 3:41 AM - More research and schematic  

Actually, it turns out I do need to add a BOOTSEL button for the user confirmation, I will try to do so. I have been thinking if I should use the RP2354 with integrated 2 MB flash, or use a RP2350 with 4 MB of QSPI flash.

I have mostly been reading the [RP2350 hardware design guide](https://datasheets.raspberrypi.com/rp2350/hardware-design-with-rp2350.pdf), it is a great read :).

Furthermore, I have decided to use the RP2354 with the integrated flash as it removes one component off the board, making the board itself smaller.

Also, the USB-C connector will be a receptacle and not a port (the one that sticks out), as the PCBA would get really expensive. I guess I will have a small USB-C cable plugged into the device at all times.

Here is the schematic. It was mostly made out of the hardware guide by RPi because the RP2040 has changes that the dev board guide does not account for.
![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTM0MCwicHVyIjoiYmxvYl9pZCJ9fQ==--d3f5e668c3d1f68173d2f2020ca4d21c8f702b06/image.png)  

## 10/25/2025 3:50 AM - PCB footprint and routing  

Holy moly, this is via city. The QFN pins make it hard to route the traces and I had to use a lot of vias. That isn't inherently bad, but should be avoided. 

One of the components will be on the underside of the board but as I do not want to pay an arm and a leg for the PCBA, I have decided that I will try to hand solder it.

One of the many problems with my work here is that one capacitor (C2) cannot be moved to the front as that breaks GND planes from being connected. Which is odd, but I have been staying up too late and am too tired for my brain to function.

I will try and solve the issue another day. I did try and see what PCBA Standard would cost and it was almost like 90 euros for 2 boards. That is kind of insane, but with bulk discounts it would be a lot cheaper I would imagine.

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTM0MSwicHVyIjoiYmxvYl9pZCJ9fQ==--28c2966ea3004686e06a7d0c26133aa5f2c5be97/image.png)

As you guys can see, not my finest work, but it should maybe probably hopefully work.
I managed to get the caps as close as I could and I think it looks nifty.

I need to add some sort of drawings or stuff as right now it looks boring.

I would also like to know where all my time has gone! Time flies really fast when I am locking in. I haven't realized that I have been doing this for like 6 or 7 hours now. :)

Okay, bye for now!  

## 10/25/2025 3 PM - Redesigning the PCB  

I didn't really like the PCB design, so I redid everything.

The second time around was a lot better in my opinion. It came out neater.

I also made the PCB look prettier, I added a ground plane to the bottom and top layers, added silkscreen graphics (the dog on the back is my family's basenji, drawn by me) and moved components around.

I have made the reset button also a button, not a jumper or pins, but I think I will not place it and leave the option there in case I need to add it.

Furthermore, I made extra sure that the USB-C data lines are impedance matched. I need to find where the resistance can be measured in KiCad for the 90 ohm +- 10% spec of the USB-C standard. 
Also, I made sure the data lines have a ground plane under them.

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTQyNCwicHVyIjoiYmxvYl9pZCJ9fQ==--b3568123d8d2fe4796c8660627162725efd8a7fd/image.png)

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTQyNSwicHVyIjoiYmxvYl9pZCJ9fQ==--b5a17e3fd2a702f5c3d82c874242f1e0c24293ba/image.png)

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTQyNiwicHVyIjoiYmxvYl9pZCJ9fQ==--f77a58dc148be0d8ecfe3cb79df92927b9483a2b/image.png)

I want to create a case for the PCB to protect my precious security key.
After that, I just have to create the README and ship the project.
I will also have to order the PCB (duh) and have to find and buy the AMS1117 or NCP1117, so I can hand solder it to the other side of the board.  

## 10/25/2025 5 PM - Made a case  

Created a snap-fit case for the PCB. 

The snap-fit may ***snap***, maybe not, we will have to wait and see.
I haven't designed anything snap fit yet, this is my first time. If it actually snaps together, it would be because of beginners luck.

I wanted to make the case a bit minimalistic, but still have something on there.

So I added the sugar pixel art from Minecraft to the case. The recess is 0.2mm to 0.4mm deep, so about 1–2 layers on the 3D printer.

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTQ1MywicHVyIjoiYmxvYl9pZCJ9fQ==--45d3349fb7673e600678b53500230af6c5ffe6eb/image.png)

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTQ1NCwicHVyIjoiYmxvYl9pZCJ9fQ==--1b642fc3a8fe42ccefa1fc334304d8a2a642b4dc/image.png)

I tried to add a compliant mechanism button. I do not know what I am doing, but it seems to maybe function.
I will have to test it out when I get my PCB.  

## 10/26/2025 - Feedback  

Thank you for the feedback! But I don't think that the GPIO needs to be accessible, and here is why.
The RP2354 was chosen specifically for its hardware security capabilities, not for general-purpose performance or GPIO expansion.

Unlike the RP2040, the RP2350 provides:
* Arm TrustZone and secure/non-secure memory isolation.
* Cryptographic acceleration (AES, SHA, TRNG, and optional PUF-based key derivation).
* Flash execute-in-place protection and secure boot support, which prevent firmware modification and key extraction attacks.

These features directly support the project’s goal of building a secure, self-contained, hardware-based authentication token.

I feel there is little need for the GPIO, as the device isn't designed to be a general purpose dev board.
It is designed to be a security key, having the pin headers there would just make the board needlessly bulkier.

The RP2350 doesn't cost that much more than other SoCs. It is still cheaper than the bulk of STM32 or ESP32 chips. It is more expensive than the RP2040, but the RP2040 isn't as secure as the RP2350.

On why I chose the RP2354A over the RP2350A is that the RP2354A has built in NOR Flash. That means that I do not have to place it on the board, saving valuable real estate on the board and saving money having to pay another extended part fee on the PCBA.

I feel that the RP2354 is warranted, but I am open to hearing your opinion why my security key doesn't warrant a RP2350.

![image](https://blueprint.hackclub.com/user-attachments/blobs/proxy/eyJfcmFpbHMiOnsiZGF0YSI6NTU1OCwicHVyIjoiYmxvYl9pZCJ9fQ==--4c15b4d04f7a0d18e269723259db7bc531cecb43/image.png)
  

